sourceSets.main.java.srcDirs = [ "src/", "src_gdx_util/" ]

//TODO upload Jars to maven...

ext {
	projectBaseName = "collider"
}

jar {
	baseName = projectBaseName
}

task apiDocs(type: Javadoc) {
	source = sourceSets.main.allJava
	options.addStringOption "bottom", "Copyright &copy; 2013-2014 Matthew D. Michelotti"
	options.setWindowTitle "Collider $version API"
}

task sourcesJar(type: Jar, dependsOn: classes) {
	classifier = 'sources'
	from sourceSets.main.allSource
	baseName = projectBaseName
}

task javadocJar(type: Jar, dependsOn: apiDocs) {
	classifier = 'javadoc'
	from apiDocs.destinationDir
	baseName = projectBaseName
}

task distAsZip(type: Zip, dependsOn: [jar, apiDocs, sourcesJar]) {
	from sourcesJar.archivePath, jar.archivePath, "../LICENSE", "../README.md"
	from(apiDocs.destinationDir) {
		into "doc"
	}
	rename "README\\.md", "README.txt"
	baseName = projectBaseName
}


//task binaryJar(type: Jar) {
//    baseName = "collider"
//    //from files(sourceSets.main.output.classesDir)
//    //from files(sourceSets.main.output.resourcesDir)
//    with jar
//}

//distributions {
//    main {
//        baseName = projectBaseName
//        contents {
//            from apiDocs.destinationDir, sourcesJar.archivePath, jar.archivePath
//        }
//    }
//}
